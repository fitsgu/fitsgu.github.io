<!DOCTYPE html>
<html lang="vi ">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/app.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <script src="./assets/js/app.js"></script>
    <link rel="shortcut icon" href="./assets/img/logo/logo.jpg" />
    <title>fitsgu</title>
  </head>
  <body>
    <audio id="music" loop>
      <source id="bg" src="./assets/bg.mp3" />
    </audio>
    <div class="title text-center">
      <div class="mint">PUZZLE</div>
    </div>
    <div class="container">
      <div class="left"></div>
      <div class="content">
        <div class="board align-items-center">
          <div id="board"></div>
        </div>
        <div class="footer">
          <div class="logo">
            <img src="./assets/img/logo/logo.jpg" alt="" />
          </div>
          <div class="person">
            <div class="name">Puzzle Game</div>
            <div class="author">By Phan Thanh Thang</div>
          </div>
          <div class="turn">Turns: <span id="turn">0</span></div>
        </div>
      </div>
      <div class="right">
        <div class="container-time">
          <div class="bg-time">
            <img src="./assets/img/wood2.png" alt="" />
          </div>
          <h3>Time</h3>
          <div
            id="timer"
            data-hours="0"
            data-minutes="0"
            data-seconds="10"
          ></div>
        </div>
      </div>
    </div>
    <!-- THÔNG BÁO HẾT GIỜ -->
    <!-- Button trigger modal -->
    <!-- Modal -->
    <div
      class="modal fade"
      id="finish"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div>
              Oh! Hết thời gian mất tiêu <span class="bi bi-emoji-frown"></span>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-warning text-white"
              id="replay"
            >
              Chơi lại
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- THÔNG BÁO CHÚC MỪNG -->
    <!-- Button trigger modal -->
    <!-- Modal -->
    <div
      class="modal fade"
      id="complete"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div>Yeah, bạn đã hoàn thành trò chơi!</div>
            <lottie-player
              src="https://assets9.lottiefiles.com/packages/lf20_0vBA8vPi66.json"
              background="transparent"
              speed="1"
              style="width: 300px; height: 300px"
              loop
              autoplay
            ></lottie-player>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-warning text-white" id="again">
              Chơi lại
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- ÂM THANH -->
    <div
      class="modal fade"
      id="audio"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div>Bạn có muốn mở âm thanh?</div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-warning text-white"
              id="volume"
            >
              Có
            </button>
            <button type="button" class="btn btn-warning text-white" id="mute">
              Không
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script src="./assets/js/timer.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <script>
    const audio = document.getElementById("music");
    $("#volume").click(() => {
      audio.play();
      $("#audio").modal("hide");
    });
    $("#mute").click(()=>{
      $("#audio").modal("hide");
    })
    $(document).ready(() => {
      $("#replay").click(() => {
        location.reload();
      });
      $("#again").click(() => {
        location.reload();
      });
      $("#audio").modal("show");
      $("#audio").on("hide.bs.modal", function () {
        counter = setInterval(() => {
          if (h == 0 && m == 0 && s == 0) {
            clearInterval(counter, finished());
          }
          if (s >= 0) {
            timer(s, m, h);
            hoursSpan.textContent = checkValue(h);
            minutesSpan.textContent = checkValue(m);
            secondsSpan.textContent = checkValue(s);
          }
        }, oneSec);
      });
    });
  </script>
</html>
